# ğŸ“Š ì‹¤ì‹œê°„ ì£¼ê°€ ì—°ë™ ë¬¸ì œ ë° í•´ê²° ë°©ì•ˆ

## ğŸš¨ í˜„ì¬ ë¬¸ì œì 

### í•˜ë“œì½”ë”©ëœ ì£¼ê°€ ë°ì´í„°
í˜„ì¬ ì‹œìŠ¤í…œì€ **JavaScript íŒŒì¼ ë‚´ë¶€ì— ì£¼ê°€ë¥¼ ì§ì ‘ ì…ë ¥**í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

```javascript
// í˜„ì¬ ë°©ì‹ (í•˜ë“œì½”ë”©)
'ë°©ì‚°': [
    { ticker: 'LMT', name: 'Lockheed Martin', price: 581.00 },  // ìˆ˜ë™ ì—…ë°ì´íŠ¸ í•„ìš”
    { ticker: '012450', name: 'í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤', price: 185000 },
    { ticker: '079550', name: 'LIGë„¥ìŠ¤ì›', price: 544000 }  // ìˆ˜ë™ ì—…ë°ì´íŠ¸ í•„ìš”
]
```

### ë¬¸ì œì 
- âŒ ì‹¤ì‹œê°„ ì‹œì„¸ ë°˜ì˜ ë¶ˆê°€
- âŒ ì£¼ê°€ ë³€ë™ ì‹œ ë§¤ë²ˆ ìˆ˜ë™ ìˆ˜ì • í•„ìš”
- âŒ ì‚¬ìš©ìê°€ ìµœì‹  ì‹œì„¸ë¥¼ ë³¼ ìˆ˜ ì—†ìŒ
- âŒ ì˜¤ë˜ëœ ë°ì´í„°ë¡œ ì˜ëª»ëœ ë§¤ë§¤ ê³„íš ìƒì„± ê°€ëŠ¥

---

## ğŸ’¡ í•´ê²° ë°©ì•ˆ (3ê°€ì§€ ì˜µì…˜)

### ì˜µì…˜ 1: ë°±ì—”ë“œ API ì—°ë™ (ê¶Œì¥) â­â­â­â­â­

#### ì¥ì 
- âœ… ì‹¤ì‹œê°„ ì£¼ê°€ ìë™ ì—…ë°ì´íŠ¸
- âœ… ì •í™•í•œ ì‹œì„¸ ë³´ì¥
- âœ… í•œêµ­íˆ¬ìì¦ê¶Œ API í™œìš© ê°€ëŠ¥ (ì´ë¯¸ .envì— ì„¤ì •ë¨)
- âœ… ë¯¸êµ­ ì£¼ì‹ì€ Alpha Vantage ë˜ëŠ” Yahoo Finance API

#### êµ¬í˜„ ë°©ë²•
```javascript
// í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°±ì—”ë“œ API í˜¸ì¶œ
async function loadStockPrice(ticker, market) {
    try {
        const response = await fetch(`/api/price/${ticker}?market=${market}&key=ds-test-2026`);
        const data = await response.json();
        return data.currentPrice;
    } catch (error) {
        console.error('ì£¼ê°€ ì¡°íšŒ ì‹¤íŒ¨:', error);
        return null;
    }
}

// ì¢…ëª© ì„ íƒ ì‹œ ì‹¤ì‹œê°„ ì£¼ê°€ ì¡°íšŒ
async function handleStockChange() {
    const ticker = document.getElementById('stock').value;
    const market = document.querySelector('input[name="market"]:checked').value;
    
    const price = await loadStockPrice(ticker, market);
    if (price) {
        document.getElementById('current-price').value = price;
    }
}
```

#### ë°±ì—”ë“œ êµ¬í˜„ (backend/server.py)
```python
@app.get("/api/price/{ticker}")
async def get_stock_price(ticker: str, market: str = "KR", key: str = Query(...)):
    verify_key(key)
    
    if market == "US":
        # Alpha Vantage ë˜ëŠ” Yahoo Finance API
        price = get_us_stock_price(ticker)
    else:
        # í•œêµ­íˆ¬ìì¦ê¶Œ API
        price = get_kr_stock_price(ticker)
    
    return {
        "ticker": ticker,
        "market": market,
        "currentPrice": price,
        "timestamp": datetime.now().isoformat()
    }
```

#### í•„ìš” ì‘ì—…
1. âœ… backend/server.pyì— `/api/price/{ticker}` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
2. âœ… í•œêµ­íˆ¬ìì¦ê¶Œ API ì—°ë™ (KIS_APP_KEY í™œìš©)
3. âœ… Alpha Vantage API í‚¤ ë°œê¸‰ (ë¬´ë£Œ)
4. âœ… í”„ë¡ íŠ¸ì—”ë“œì—ì„œ API í˜¸ì¶œ ë¡œì§ ì¶”ê°€

---

### ì˜µì…˜ 2: ì™¸ë¶€ API ì§ì ‘ í˜¸ì¶œ (ì¤‘ê°„) â­â­â­

#### ì¥ì 
- âœ… ë°±ì—”ë“œ ì—†ì´ í”„ë¡ íŠ¸ì—”ë“œë§Œìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥
- âœ… ë¹„êµì  ë¹ ë¥¸ êµ¬í˜„

#### ë‹¨ì 
- âš ï¸ CORS ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
- âš ï¸ API í‚¤ ë…¸ì¶œ ìœ„í—˜
- âš ï¸ í•œêµ­íˆ¬ìì¦ê¶Œ APIëŠ” ì„œë²„ í•„ìš”

#### êµ¬í˜„ ë°©ë²• (ë¯¸êµ­ ì£¼ì‹ë§Œ ê°€ëŠ¥)
```javascript
// Yahoo Finance ë¬´ë£Œ API (CORS ìš°íšŒ í”„ë¡ì‹œ í•„ìš”)
async function getUSStockPrice(ticker) {
    const url = `https://query1.finance.yahoo.com/v8/finance/chart/${ticker}`;
    try {
        const response = await fetch(url);
        const data = await response.json();
        const price = data.chart.result[0].meta.regularMarketPrice;
        return price;
    } catch (error) {
        console.error('ì£¼ê°€ ì¡°íšŒ ì‹¤íŒ¨:', error);
        return null;
    }
}
```

#### ë¬¸ì œì 
- âŒ í•œêµ­ ì£¼ì‹ì€ ë°±ì—”ë“œ ì—†ì´ ë¶ˆê°€ëŠ¥
- âŒ CORS ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥

---

### ì˜µì…˜ 3: ìˆ˜ë™ ì—…ë°ì´íŠ¸ + ì—…ë°ì´íŠ¸ ë‚ ì§œ í‘œì‹œ (ì„ì‹œ) â­â­

#### ì¥ì 
- âœ… ì¶”ê°€ ê°œë°œ ë¶ˆí•„ìš”
- âœ… í˜„ì¬ ì‹œìŠ¤í…œ ìœ ì§€

#### ê°œì„  ë°©ë²•
```javascript
const STOCK_DATABASE = {
    meta: {
        lastUpdate: '2026-01-21 17:00',  // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„
        note: 'ì£¼ê°€ëŠ” ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.'
    },
    'ë°©ì‚°': [
        { ticker: 'LMT', name: 'Lockheed Martin', price: 581.00, updated: '2026-01-21' },
        { ticker: '079550', name: 'LIGë„¥ìŠ¤ì›', price: 544000, updated: '2026-01-21' }
    ]
};
```

#### UIì— ê²½ê³  í‘œì‹œ
```html
<div class="alert warning">
    âš ï¸ ì£¼ê°€ ë°ì´í„°ëŠ” 2026-01-21 17:00 ê¸°ì¤€ì…ë‹ˆë‹¤. 
    ì‹¤ì œ ë§¤ë§¤ ì „ ìµœì‹  ì‹œì„¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.
</div>
```

---

## ğŸ¯ ê¶Œì¥ ì†”ë£¨ì…˜: ì˜µì…˜ 1 (ë°±ì—”ë“œ API ì—°ë™)

### ì´ìœ 
1. âœ… í•œêµ­íˆ¬ìì¦ê¶Œ API í‚¤ê°€ ì´ë¯¸ .envì— ì„¤ì •ë˜ì–´ ìˆìŒ
2. âœ… backend/server.pyê°€ ì´ë¯¸ ì¡´ì¬
3. âœ… ê°€ì¥ ì •í™•í•˜ê³  ì•ˆì •ì ì¸ ë°©ë²•
4. âœ… í–¥í›„ í™•ì¥ ê°€ëŠ¥ (ì‹¤ì‹œê°„ ì°¨íŠ¸, ë‰´ìŠ¤ ë“±)

### êµ¬í˜„ ë¡œë“œë§µ

#### Phase 1: ë°±ì—”ë“œ API ì¶”ê°€ (30ë¶„)
- [ ] `/api/price/{ticker}` ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
- [ ] í•œêµ­íˆ¬ìì¦ê¶Œ API ì—°ë™ (í•œêµ­ ì£¼ì‹)
- [ ] Yahoo Finance API ì—°ë™ (ë¯¸êµ­ ì£¼ì‹)

#### Phase 2: í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ (20ë¶„)
- [ ] `loadStockPrice()` í•¨ìˆ˜ ì¶”ê°€
- [ ] `handleStockChange()` ìˆ˜ì •
- [ ] ë¡œë”© ì¸ë””ì¼€ì´í„° ì¶”ê°€

#### Phase 3: í…ŒìŠ¤íŠ¸ (10ë¶„)
- [ ] LMT ì£¼ê°€ ì‹¤ì‹œê°„ ì¡°íšŒ í…ŒìŠ¤íŠ¸
- [ ] LIGë„¥ìŠ¤ì› ì£¼ê°€ ì‹¤ì‹œê°„ ì¡°íšŒ í…ŒìŠ¤íŠ¸
- [ ] ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸

---

## ğŸ“‹ ì¦‰ì‹œ ìˆ˜ì • ì™„ë£Œ ì‚¬í•­

### âœ… ìˆ˜ë™ ì£¼ê°€ ì—…ë°ì´íŠ¸ ì™„ë£Œ

#### ë¯¸êµ­ ì£¼ì‹
```javascript
LMT (Lockheed Martin):
âŒ ì´ì „: $497.00
âœ… í˜„ì¬: $581.00 (2026-01-21 ì—…ë°ì´íŠ¸)
```

#### í•œêµ­ ì£¼ì‹
```javascript
LIGë„¥ìŠ¤ì› (079550):
âŒ ì´ì „: â‚©95,000
âœ… í˜„ì¬: â‚©544,000 (2026-01-21 ì—…ë°ì´íŠ¸)
```

#### ìˆ˜ì •ëœ íŒŒì¼
- âœ… `trade_plan_simulation.html` - LMT, LIGë„¥ìŠ¤ì› ì£¼ê°€ ìˆ˜ì •
- âœ… `market_driven_plan.html` - LMT ì£¼ê°€ ìˆ˜ì •

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### Test 1: LMT ì£¼ê°€ í™•ì¸
1. **trade_plan_simulation.html** ì—´ê¸°
2. ì‹œì¥: **US** ì„ íƒ
3. ì„¹í„°: **ë°©ì‚°**
4. ì¢…ëª©: **Lockheed Martin (LMT)** ì„ íƒ
5. âœ… í˜„ì¬ ì£¼ê°€: `581.00` í‘œì‹œ í™•ì¸

### Test 2: LIGë„¥ìŠ¤ì› ì£¼ê°€ í™•ì¸
1. ì‹œì¥: **KR** ì„ íƒ
2. ì„¹í„°: **ë°©ì‚°**
3. ì¢…ëª©: **LIGë„¥ìŠ¤ì› (079550)** ì„ íƒ
4. âœ… í˜„ì¬ ì£¼ê°€: `544000` í‘œì‹œ í™•ì¸

---

## ğŸ’¬ ë‹¤ìŒ ë‹¨ê³„ ê²°ì •

ì‚¬ìš©ìë‹˜ê»˜ì„œ ì„ íƒí•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

### ì„ íƒ 1: ì‹¤ì‹œê°„ ì£¼ê°€ ì—°ë™ êµ¬í˜„ (ê¶Œì¥) â­
- ë°±ì—”ë“œ API ê°œë°œ (~1ì‹œê°„)
- í•œêµ­íˆ¬ìì¦ê¶Œ + Yahoo Finance ì—°ë™
- ì™„ì „ ìë™í™”

### ì„ íƒ 2: í˜„ì¬ ìƒíƒœ ìœ ì§€
- í•„ìš” ì‹œ ìˆ˜ë™ìœ¼ë¡œ ì£¼ê°€ ì—…ë°ì´íŠ¸
- ë¹ ë¥¸ ì‹œì‘ ê°€ëŠ¥
- ê°œë°œ ë¶ˆí•„ìš”

### ì„ íƒ 3: í˜¼í•© ë°©ì‹
- ë¯¸êµ­ ì£¼ì‹ë§Œ ì‹¤ì‹œê°„ ì—°ë™
- í•œêµ­ ì£¼ì‹ì€ ìˆ˜ë™ ì—…ë°ì´íŠ¸

---

## ğŸ“Š í˜„ì¬ ì£¼ê°€ ë°ì´í„°ë² ì´ìŠ¤ (2026-01-21 ê¸°ì¤€)

### ë¯¸êµ­ ì£¼ì‹
```
LMT (Lockheed Martin): $581.00 âœ…
JNJ (Johnson & Johnson): $215.00
```

### í•œêµ­ ì£¼ì‹
```
ë°©ì‚°:
- í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤ (012450): â‚©185,000
- LIGë„¥ìŠ¤ì› (079550): â‚©544,000 âœ…

ë°˜ë„ì²´:
- ì‚¼ì„±ì „ì (005930): â‚©75,000
- SKí•˜ì´ë‹‰ìŠ¤ (000660): â‚©142,000

í—¬ìŠ¤ì¼€ì–´:
- ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤ (207940): â‚©850,000
- ì…€íŠ¸ë¦¬ì˜¨ (068270): â‚©175,000
```

---

## ğŸ‰ ê²°ë¡ 

âœ… **ì£¼ê°€ ìˆ˜ì • ì™„ë£Œ:** LMT $581.00, LIGë„¥ìŠ¤ì› â‚©544,000  
âš ï¸ **ê·¼ë³¸ ë¬¸ì œ:** ì‹¤ì‹œê°„ ì£¼ê°€ ì—°ë™ í•„ìš”  
ğŸ’¡ **ê¶Œì¥ ë°©ì•ˆ:** ë°±ì—”ë“œ API ì—°ë™ (ì˜µì…˜ 1)

---

> **ì‘ì„±ì¼:** 2026-01-21  
> **ìƒíƒœ:** ìˆ˜ë™ ìˆ˜ì • ì™„ë£Œ / ì‹¤ì‹œê°„ ì—°ë™ ëŒ€ê¸° ì¤‘  
> **ë‹¤ìŒ ë‹¨ê³„:** ì‚¬ìš©ì ê²°ì • í•„ìš”
