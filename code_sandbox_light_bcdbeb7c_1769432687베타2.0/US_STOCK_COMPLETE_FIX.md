# âœ… ë¯¸êµ­ ì£¼ì‹ ë‹¬ëŸ¬ í‘œì‹œ ì™„ì „ ìˆ˜ì • ì™„ë£Œ

## ğŸ¯ í•´ê²°ëœ ë¬¸ì œ

### 1. **JNJ ê°€ê²© ìˆ˜ì •**
- âŒ ì´ì „: `158.25`
- âœ… í˜„ì¬: `215.00`

### 2. **ì‹œì¥ ì„ íƒ ì‹œ í†µí™” ë‹¨ìœ„ ë³€ê²½**
- ë¯¸êµ­ ì‹œì¥ ì„ íƒ â†’ "í˜„ì¬ ì£¼ê°€ ($)" í‘œì‹œ
- í•œêµ­ ì‹œì¥ ì„ íƒ â†’ "í˜„ì¬ ì£¼ê°€ (â‚©)" í‘œì‹œ
- placeholderë„ ìë™ ë³€ê²½ (ì˜ˆ: 215.00 / 75000)

### 3. **ë§¤ë§¤ ê³„íš ê²°ê³¼ í™”ë©´**
- `isUSStock` í”Œë˜ê·¸ë¥¼ `displayResults`ì— ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬
- ë¯¸êµ­ ì£¼ì‹: `$215.00` (ì†Œìˆ˜ì  2ìë¦¬)
- í•œêµ­ ì£¼ì‹: `â‚©185,000` (ì •ìˆ˜, ì²œë‹¨ìœ„ êµ¬ë¶„)

### 4. **ì‹œë®¬ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ í…Œì´ë¸”**
- ì €ì¥ ì‹œ `market` ì •ë³´ í¬í•¨
- íˆìŠ¤í† ë¦¬ í‘œì‹œ ì‹œ í†µí™” ìë™ êµ¬ë¶„
- ë¯¸êµ­ ì£¼ì‹: $445.50, $410.06, $500.13
- í•œêµ­ ì£¼ì‹: â‚©185,000, â‚©170,300, â‚©200,000

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### Test 1: ë¯¸êµ­ ì£¼ì‹ - JNJ

1. **trade_plan_simulation.html** ì—´ê¸°
2. **ì‹œì¥ ì„ íƒ: US** (ë¼ë””ì˜¤ ë²„íŠ¼)
   - âœ… ë¼ë²¨ í™•ì¸: "í˜„ì¬ ì£¼ê°€ ($)"
3. **ì„¹í„°: í—¬ìŠ¤ì¼€ì–´**
4. **ì¢…ëª©: Johnson & Johnson (JNJ)**
   - âœ… ì£¼ê°€ ìë™ ì…ë ¥: `215.00`
5. **ë§¤ë§¤ ê³„íš ìƒì„±** í´ë¦­
6. **ê²°ê³¼ í™•ì¸:**
   ```
   ì§„ì…ê°€: $210.70
   ì†ì ˆê°€: $189.63 (-10.0%)
   ëª©í‘œê°€ 1ì°¨: $252.84 (+20.0%)
   ëª©í‘œê°€ 2ì°¨: $284.45 (+35.0%)
   ```

### Test 2: í•œêµ­ ì£¼ì‹ - í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤

1. **ì‹œì¥ ì„ íƒ: KR**
   - âœ… ë¼ë²¨ í™•ì¸: "í˜„ì¬ ì£¼ê°€ (â‚©)"
2. **ì„¹í„°: ë°©ì‚°**
3. **ì¢…ëª©: í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤ (012450)**
   - âœ… ì£¼ê°€ ìë™ ì…ë ¥: `185000`
4. **ë§¤ë§¤ ê³„íš ìƒì„±** í´ë¦­
5. **ê²°ê³¼ í™•ì¸:**
   ```
   ì§„ì…ê°€: â‚©181,300
   ì†ì ˆê°€: â‚©163,170 (-10.0%)
   ëª©í‘œê°€ 1ì°¨: â‚©217,560 (+20.0%)
   ëª©í‘œê°€ 2ì°¨: â‚©244,755 (+35.0%)
   ```

### Test 3: ì‹œë®¬ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬

1. **JNJë¡œ ë§¤ë§¤ ê³„íš ìƒì„±**
2. **íˆìŠ¤í† ë¦¬ ì„¹ì…˜ í™•ì¸:**
   - âœ… ì§„ì…ê°€: `$210.70` (ë‹¬ëŸ¬ í‘œì‹œ)
   - âœ… ì†ì ˆê°€/ëª©í‘œê°€: `$189.63 / $252.84`

3. **í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤ë¡œ ë§¤ë§¤ ê³„íš ìƒì„±**
4. **íˆìŠ¤í† ë¦¬ ì„¹ì…˜ í™•ì¸:**
   - âœ… ì§„ì…ê°€: `â‚©181,300` (ì›í™” í‘œì‹œ)
   - âœ… ì†ì ˆê°€/ëª©í‘œê°€: `â‚©163,170 / â‚©217,560`

---

## ğŸ“Š ë³€ê²½ëœ ì½”ë“œ ìš”ì•½

### 1. STOCK_DATABASE ì—…ë°ì´íŠ¸
```javascript
í—¬ìŠ¤ì¼€ì–´: [
    { ticker: 'JNJ', name: 'Johnson & Johnson', price: 215.00 },  // 215.00ìœ¼ë¡œ ìˆ˜ì •
    ...
]
```

### 2. displayResults í•¨ìˆ˜
```javascript
function displayResults(plan, stockName, ticker, isUSStock) {
    const formatCurrency = (value) => {
        if (isUSStock) {
            return `$${value.toFixed(2)}`;
        }
        return `â‚©${Math.round(value).toLocaleString()}`;
    };
    ...
}
```

### 3. generateTradePlan í•¨ìˆ˜
```javascript
const isUSStock = (stock.length <= 4 && !/^[0-9]+$/.test(stock)) || market === 'US';
const plan = calculateTradePlan(currentPrice, risk, capital, period, isUSStock);
displayResults(plan, stockName, stock, isUSStock);  // isUSStock ì „ë‹¬
```

### 4. saveSimulation í•¨ìˆ˜
```javascript
function saveSimulation(sim) {
    if (!sim.market) {
        sim.market = document.getElementById('market').value;  // market ì €ì¥
    }
    ...
}
```

### 5. updateHistoryTable í•¨ìˆ˜
```javascript
const isUSStock = sim.market === 'US' || 
                  (sim.ticker && sim.ticker.length <= 4 && !/^[0-9]+$/.test(sim.ticker));
const currencySymbol = isUSStock ? '$' : 'â‚©';
const priceFormat = isUSStock ? 
    (val) => val.toFixed(2) : 
    (val) => val.toLocaleString();
```

---

## ğŸ‰ ìµœì¢… ê²°ê³¼

âœ… **ë¯¸êµ­ ì£¼ì‹ (JNJ, LMT):** ëª¨ë“  ê°€ê²©ì´ ë‹¬ëŸ¬($)ë¡œ í‘œì‹œ  
âœ… **í•œêµ­ ì£¼ì‹ (012450):** ëª¨ë“  ê°€ê²©ì´ ì›í™”(â‚©)ë¡œ í‘œì‹œ  
âœ… **ì‹œì¥ ë³€ê²½ ì‹œ ë¼ë²¨ ìë™ ì—…ë°ì´íŠ¸**  
âœ… **íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ë„ í†µí™” êµ¬ë¶„ ì§€ì›**  
âœ… **JNJ ê°€ê²© 215ë‹¬ëŸ¬ë¡œ ìˆ˜ì • ì™„ë£Œ**

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

1. **ìºì‹œ ì‚­ì œ:** `Ctrl + Shift + R`
2. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰:** ìœ„ì˜ Test 1, 2, 3 ìˆ˜í–‰
3. **ë¬¸ì œ ë°œìƒ ì‹œ:** `F12` â†’ Console ë¡œê·¸ í™•ì¸

---

> **ì‘ì„±ì¼:** 2026-01-21  
> **íŒŒì¼:** trade_plan_simulation.html  
> **ìƒíƒœ:** âœ… ì™„ë£Œ
