<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìœ íŠœë¸Œ ëŒ€ë³¸ ìƒì„±ê¸° | Decision Stream</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #0b1020 0%, #1a2332 100%);
            color: #e7ebff;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 30px;
        }
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .back-btn {
            display: inline-block;
            padding: 10px 20px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            color: #fff;
            text-decoration: none;
            margin-bottom: 20px;
        }
        .generate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            margin-bottom: 30px;
        }
        .generate-btn:hover {
            opacity: 0.9;
        }
        .output {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 30px;
            border: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 20px;
        }
        .output h2 {
            font-size: 20px;
            margin-bottom: 15px;
            color: #cdd6ff;
        }
        .script-content {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 8px;
            white-space: pre-wrap;
            line-height: 1.8;
            font-size: 15px;
            color: #aab3d6;
            max-height: 600px;
            overflow-y: auto;
        }
        .copy-btn {
            margin-top: 15px;
            padding: 10px 20px;
            background: #2a3a5a;
            border: 1px solid #4a6a9a;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-weight: 600;
        }
        .copy-btn:hover {
            background: #3a4a6a;
        }
        .meta-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .meta-card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .meta-card h3 {
            font-size: 16px;
            margin-bottom: 10px;
            color: #cdd6ff;
        }
        .meta-card p {
            color: #aab3d6;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-btn">â† ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°</a>
        
        <div class="header">
            <h1>ğŸ¬ ìœ íŠœë¸Œ ëŒ€ë³¸ ìƒì„±ê¸°</h1>
            <p>ì˜¤ëŠ˜ì˜ ì‹œì¥ ë¶„ì„ì„ ìœ íŠœë¸Œ ì½˜í…ì¸ ë¡œ ìë™ ìƒì„±</p>
        </div>

        <div id="result">
            <!-- ë©”íƒ€ ì •ë³´ -->
            <div class="meta-info">
                <div class="meta-card">
                    <h3>ğŸ“Œ ì˜ìƒ ì œëª©</h3>
                    <p id="title"></p>
                    <button class="copy-btn" onclick="copyText('title')">ë³µì‚¬</button>
                </div>
                <div class="meta-card">
                    <h3>ğŸ–¼ï¸ ì„¬ë„¤ì¼ ë¬¸êµ¬</h3>
                    <p id="thumbnail"></p>
                    <button class="copy-btn" onclick="copyText('thumbnail')">ë³µì‚¬</button>
                </div>
            </div>

            <div class="output">
                <h2>ğŸ“ ì˜ìƒ ì„¤ëª…</h2>
                <div class="script-content" id="description"></div>
                <button class="copy-btn" onclick="copyText('description')">ë³µì‚¬</button>
            </div>

            <div class="output">
                <h2>ğŸ¤ ëŒ€ë³¸ (ìŒì„± ë…¹ìŒìš©)</h2>
                <div class="script-content" id="script"></div>
                <button class="copy-btn" onclick="copyText('script')">ë³µì‚¬</button>
            </div>

            <div class="meta-card">
                <h3>#ï¸âƒ£ í•´ì‹œíƒœê·¸</h3>
                <p id="hashtags"></p>
                <button class="copy-btn" onclick="copyText('hashtags')">ë³µì‚¬</button>
            </div>
        </div>
    </div>

    <script>
        // Mock ë°ì´í„°
        const MOCK_DATA = {
            marketRegime: {
                state: 'RISK_ON',
                riskScore: 72,
                playbook: 'ëˆŒë¦¼ ë§¤ìˆ˜',
                reason: 'ê±°ë˜ëŸ‰ì´ ì¦ê°€í•˜ê³  ìˆìœ¼ë©°, ê¸°ê´€ ë§¤ìˆ˜ì„¸ê°€ ìœ ì…ë˜ê³  ìˆìŠµë‹ˆë‹¤. ë³€ë™ì„±ì€ ì•ˆì •ì ì´ë©° ëŒ€í˜•ì£¼ ì¤‘ì‹¬ìœ¼ë¡œ ìƒìŠ¹ì„¸ê°€ ì´ì–´ì§€ê³  ìˆìŠµë‹ˆë‹¤.'
            },
            sectors: [
                { name: 'ë°©ì‚°', signal: 'SURGE', score: 97, duration: '2ì£¼', reason: 'êµ­ì œ ì •ì„¸ ê¸´ì¥ìœ¼ë¡œ ë°©ì‚° ê´€ë ¨ ìˆ˜ì£¼ ê¸°ëŒ€ê° ì¦ê°€' },
                { name: 'í—¬ìŠ¤ì¼€ì–´', signal: 'SURGE', score: 96, duration: '1ì£¼', reason: 'ë°”ì´ì˜¤ ì‹ ì•½ ê°œë°œ í˜¸ì¬ ë° ê³ ë ¹í™” ìˆ˜í˜œ' }
            ],
            stocks: {
                'ë°©ì‚°': {
                    leaders: [
                        { ticker: 'LMT', name: 'Lockheed Martin', price: 445.50 }
                    ],
                    followers: [
                        { ticker: '012450', name: 'í•œí™”ì—ì–´ë¡œìŠ¤í˜ì´ìŠ¤', price: 185000 },
                        { ticker: '079550', name: 'LIGë„¥ìŠ¤ì›', price: 544000 }
                    ]
                },
                'í—¬ìŠ¤ì¼€ì–´': {
                    leaders: [
                        { ticker: 'JNJ', name: 'Johnson & Johnson', price: 158.25 }
                    ],
                    followers: [
                        { ticker: '207940', name: 'ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤', price: 850000 },
                        { ticker: '068270', name: 'ì…€íŠ¸ë¦¬ì˜¨', price: 175000 }
                    ]
                }
            },
            technicalAnalysis: {
                'LMT': { rsi: 62, macd: 'ë§¤ìˆ˜', trend: 'ìƒìŠ¹', support: 420, resistance: 460 },
                '012450': { rsi: 58, macd: 'ë§¤ìˆ˜', trend: 'ìƒìŠ¹', support: 175000, resistance: 195000 },
                '079550': { rsi: 65, macd: 'ì¤‘ë¦½', trend: 'ìƒìŠ¹', support: 520000, resistance: 560000 },
                'JNJ': { rsi: 55, macd: 'ë§¤ìˆ˜', trend: 'ìƒìŠ¹', support: 150, resistance: 165 },
                '207940': { rsi: 60, macd: 'ë§¤ìˆ˜', trend: 'ìƒìŠ¹', support: 820000, resistance: 880000 },
                '068270': { rsi: 57, macd: 'ë§¤ìˆ˜', trend: 'ìƒìŠ¹', support: 168000, resistance: 185000 }
            }
        };

        function generateScript() {
            const today = new Date().toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric' });
            
            // ì œëª© ìƒì„±
            const title = `${today.split(' ')[1]} ${today.split(' ')[2]} ${MOCK_DATA.marketRegime.state === 'RISK_ON' ? 'ğŸ“ˆ' : 'ğŸ“‰'} ${MOCK_DATA.sectors[0].name}Â·${MOCK_DATA.sectors[1].name} ê¸‰ë“±! ë§¤ìˆ˜ íƒ€ì´ë°ì€? | Decision Stream`;
            
            // ì„¬ë„¤ì¼ ë¬¸êµ¬
            const thumbnail = `${MOCK_DATA.marketRegime.state}\n${MOCK_DATA.sectors[0].name} ${MOCK_DATA.sectors[0].score}ì \n${MOCK_DATA.sectors[1].name} ${MOCK_DATA.sectors[1].score}ì `;
            
            // ëŒ€ë³¸ ìƒì„±
            let script = `ì•ˆë…•í•˜ì„¸ìš”, Decision Streamì…ë‹ˆë‹¤.\n\n`;
            
            // 1) ì‹œì¥ ë¶„ì„
            script += `â–  ì˜¤ëŠ˜ì˜ ì‹œì¥ ë¶„ì„\n\n`;
            script += `ì˜¤ëŠ˜ ${today} ì‹œì¥ì€ ${MOCK_DATA.marketRegime.state}, ì¦‰ ${MOCK_DATA.marketRegime.state === 'RISK_ON' ? 'ê³µê²©ì  íˆ¬ì ìœ„ì£¼' : 'ë°©ì–´ì  ê´€ì '}ì˜ ì¥ì„¸ì…ë‹ˆë‹¤.\n\n`;
            script += `Risk ScoreëŠ” ${MOCK_DATA.marketRegime.riskScore}ì ìœ¼ë¡œ, ${MOCK_DATA.marketRegime.reason}\n\n`;
            script += `ì´ëŸ° ìƒí™©ì—ì„œì˜ ê¸°ë³¸ ì „ëµì€ "${MOCK_DATA.marketRegime.playbook}"ì…ë‹ˆë‹¤.\n\n`;
            script += `---\n\n`;
            
            // 2) ì„¹í„° ë¶„ì„
            script += `â–  ì˜¤ëŠ˜ì˜ ì£¼ëª© ì„¹í„°\n\n`;
            script += `ì˜¤ëŠ˜ ê±°ë˜ëŒ€ê¸ˆì´ ì§‘ì¤‘ë˜ê³  ê°•í•œ ìƒìŠ¹ì„¸ë¥¼ ë³´ì´ëŠ” ì„¹í„°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n`;
            MOCK_DATA.sectors.forEach(sector => {
                script += `â–¶ ${sector.name} ì„¹í„°\n`;
                script += `  - Flow Score: ${sector.score}ì  (${sector.signal})\n`;
                script += `  - ì§€ì† ê¸°ê°„: ${sector.duration}\n`;
                script += `  - ìƒìŠ¹ ì´ìœ : ${sector.reason}\n\n`;
            });
            script += `---\n\n`;
            
            // 3) ì¢…ëª© ì„ ì •
            script += `â–  ì£¼ëª© ì¢…ëª© ë¦¬ìŠ¤íŠ¸\n\n`;
            MOCK_DATA.sectors.forEach(sector => {
                const stocks = MOCK_DATA.stocks[sector.name];
                script += `ã€${sector.name} ì„¹í„°ã€‘\n\n`;
                
                if (stocks.leaders.length > 0) {
                    script += `â–¶ Leader (ì„ ë„ì£¼)\n`;
                    stocks.leaders.forEach(stock => {
                        const isUS = stock.ticker.length <= 4 && !/^\d+$/.test(stock.ticker);
                        const priceStr = isUS ? `$${stock.price}` : `â‚©${stock.price.toLocaleString()}`;
                        script += `  - ${stock.name} (${stock.ticker}): ${priceStr}\n`;
                    });
                    script += `\n`;
                }
                
                if (stocks.followers.length > 0) {
                    script += `â–¶ Follower (ì¶”ì¢…ì£¼)\n`;
                    stocks.followers.forEach(stock => {
                        const isUS = stock.ticker.length <= 4 && !/^\d+$/.test(stock.ticker);
                        const priceStr = isUS ? `$${stock.price}` : `â‚©${stock.price.toLocaleString()}`;
                        script += `  - ${stock.name} (${stock.ticker}): ${priceStr}\n`;
                    });
                    script += `\n`;
                }
            });
            script += `---\n\n`;
            
            // 4) ê¸°ìˆ ì  ë¶„ì„
            script += `â–  ì¢…ëª©ë³„ ì°¨íŠ¸ ë¶„ì„\n\n`;
            MOCK_DATA.sectors.forEach(sector => {
                const stocks = MOCK_DATA.stocks[sector.name];
                const allStocks = [...stocks.leaders, ...stocks.followers];
                
                allStocks.forEach(stock => {
                    const ta = MOCK_DATA.technicalAnalysis[stock.ticker];
                    if (ta) {
                        const isUS = stock.ticker.length <= 4 && !/^\d+$/.test(stock.ticker);
                        script += `â–¶ ${stock.name} (${stock.ticker})\n`;
                        script += `  - RSI: ${ta.rsi} â†’ ${ta.rsi > 70 ? 'ê³¼ì—´ ì£¼ì˜' : ta.rsi < 30 ? 'ê³¼ë§¤ë„' : 'ì¤‘ë¦½ê¶Œ'}\n`;
                        script += `  - MACD: ${ta.macd} ì‹ í˜¸\n`;
                        script += `  - ì¶”ì„¸: ${ta.trend}\n`;
                        const supportStr = isUS ? `$${ta.support}` : `â‚©${ta.support.toLocaleString()}`;
                        const resistanceStr = isUS ? `$${ta.resistance}` : `â‚©${ta.resistance.toLocaleString()}`;
                        script += `  - ì§€ì§€ì„ : ${supportStr} / ì €í•­ì„ : ${resistanceStr}\n\n`;
                    }
                });
            });
            script += `---\n\n`;
            
            // 5) í´ë¡œì§•
            script += `â–  ë°˜ë“œì‹œ ê¸°ì–µí•˜ì„¸ìš”!\n\n`;
            script += `ì´ ë°ì´í„°ëŠ” ì—°êµ¬ì™€ í›ˆë ¨ì„ ëª©ì ìœ¼ë¡œ ì œê³µë˜ëŠ” ê²ƒìœ¼ë¡œ,\n\n`;
            script += `âœ… ì´ ë„êµ¬ëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤. 100% ë§ëŠ” ê²ƒì€ ì•„ë‹ˆì—ìš”.\n`;
            script += `âœ… íˆ¬ìëŠ” ë³¸ì¸ íŒë‹¨ê³¼ ì±…ì„ìœ¼ë¡œ í•˜ì„¸ìš”.\n`;
            script += `âœ… ì†ì‹¤ì„ ê°ë‹¹í•  ìˆ˜ ìˆëŠ” ì—¬ìœ  ìê¸ˆìœ¼ë¡œë§Œ íˆ¬ìí•˜ì„¸ìš”.\n`;
            script += `âœ… í•œ ì¢…ëª©ì— ì „ ì¬ì‚°ì„ ê±¸ì§€ ë§ˆì„¸ìš”.\n`;
            script += `âœ… ë§¤ìˆ˜í–ˆë‹¤ë©´ ë°˜ë“œì‹œ ì†ì ˆê°€ë¥¼ ì •í•´ë‘ì„¸ìš”.\n\n`;
            script += `ì˜¤ëŠ˜ë„ ì•ˆì „í•œ íˆ¬ì ë˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.\n`;
            script += `êµ¬ë…ê³¼ ì¢‹ì•„ìš” ë¶€íƒë“œë¦½ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!`;
            
            // ì„¤ëª… ìƒì„±
            const description = `${today} Decision Stream ì‹œì¥ ë¶„ì„\n\n` +
                `ğŸ“Š ì˜¤ëŠ˜ì˜ ì‹œì¥: ${MOCK_DATA.marketRegime.state} (Risk Score ${MOCK_DATA.marketRegime.riskScore})\n` +
                `ğŸ”¥ ì£¼ëª© ì„¹í„°: ${MOCK_DATA.sectors.map(s => s.name).join(', ')}\n\n` +
                `ğŸ“ˆ íƒ€ì„ìŠ¤íƒ¬í”„\n` +
                `00:00 ì˜¤ëŠ˜ì˜ ì‹œì¥ ë¶„ì„\n` +
                `02:30 ì„¹í„° ë¶„ì„\n` +
                `05:00 ì£¼ëª© ì¢…ëª©\n` +
                `08:00 ì°¨íŠ¸ ë¶„ì„\n` +
                `12:00 ì£¼ì˜ì‚¬í•­\n\n` +
                `âš ï¸ íˆ¬ì íŒë‹¨ì€ ë³¸ì¸ ì±…ì„ì…ë‹ˆë‹¤.\n` +
                `ğŸ’¡ êµ¬ë…ê³¼ ì•Œë¦¼ ì„¤ì •ìœ¼ë¡œ ë§¤ì¼ ì‹œì¥ ë¶„ì„ì„ ë°›ì•„ë³´ì„¸ìš”!\n\n` +
                `#ì£¼ì‹ #ì£¼ì‹íˆ¬ì #${MOCK_DATA.sectors[0].name} #${MOCK_DATA.sectors[1].name}`;
            
            // í•´ì‹œíƒœê·¸
            const hashtags = `#ì£¼ì‹ #ì£¼ì‹íˆ¬ì #ì‹œì¥ë¶„ì„ #${MOCK_DATA.sectors[0].name} #${MOCK_DATA.sectors[1].name} #ê¸°ìˆ ì ë¶„ì„ #ì°¨íŠ¸ë¶„ì„ #ë§¤ìˆ˜íƒ€ì´ë° #DecisionStream`;
            
            // í™”ë©´ì— í‘œì‹œ
            document.getElementById('title').textContent = title;
            document.getElementById('thumbnail').textContent = thumbnail;
            document.getElementById('description').textContent = description;
            document.getElementById('script').textContent = script;
            document.getElementById('hashtags').textContent = hashtags;
            document.getElementById('result').style.display = 'block';
        }

        function copyText(id) {
            const text = document.getElementById(id).textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì‹¤í–‰
        window.addEventListener('DOMContentLoaded', generateScript);
    </script>
</body>
</html>